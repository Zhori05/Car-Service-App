
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles/bookAService.css">
  <script src="./js/multiStepForm2.js"></script>
  <script src="./js/bookAService.js"></script>
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="styles/mechanicPage2.0.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

  <title>Document</title>
</head>

<body>
  <nav class="navbar">
    <div class="logo">
      <i class="bx bx-menu" id="sidebarOpen"></i>
      M Car Service
    </div>
  </nav>
  <nav class="sidebar">
    <div class="mechanic">
      <p class="mechanicName"  th:text="${user.username}">
      </p>
    </div>
    <div class="menu_content">
      <ul class="menu_items">
        <li class="menu_item" style="background-color:white;">
          <a href="index.html" class="nav_link">
            <span class="navlink_icon">
              <i class="bx bx-home"></i>
            </span>
            <span class="navlink">Начало</span>
          </a>
        </li>
        <li class="menu_item" >
          <a href="/bookAService" class="nav_link add-appointment-link">
            <span class="navlink_icon">
              <i class='bx bx-calendar-plus'></i>
            </span>
            <span class="navlink">Запази час</span>
          </a>
        </li>
        <li class="menu_item"  >
          <a href="/serviceBook" class="nav_link history-link" >
            <span class="navlink_icon">
              <i class='bx bx-calendar-check'></i>
            </span>
            <span class="navlink">Сервизна книжка</span>
          </a>
        </li>

        <li class="menu_item"  th:if="${user.role.name() == 'ADMIN'}">
          <a href="/addService" class="nav_link add-service-link">
            <span class="navlink_icon">
              <i class='bx bx-add-to-queue'></i>
            </span>
            <span class="navlink">Добавяне на услуга</span>
          </a>
        </li>
        <li class="menu_item"  th:if="${user.role.name() == 'ADMIN'}">
          <a href="/allServices" class="nav_link all-services-link">
            <span class="navlink_icon">
              <i class='bx bx-list-ul'></i>
            </span>
            <span class="navlink">Услуги</span>
          </a>
        </li>
        <li class="menu_item"  th:if="${user.role.name() == 'ADMIN'}">
          <a href="/addMechanic" class="nav_link add-mechanic-link">
            <span class="navlink_icon">
              <i class='bx bx-add-to-queue'></i>
            </span>
            <span class="navlink">Добави механик</span>
          </a>
        </li>
        <li class="menu_item"  th:if="${user.role.name() == 'ADMIN'}">
          <a href="/allMechanics" class="nav_link mechanics-link">
            <span class="navlink_icon">
              <i class='bx bx-wrench'></i>
            </span>
            <span class="navlink">Механици</span>
          </a>
        </li>
        <li class="menu_item"  th:if="${user.role.name() == 'ADMIN'}">
          <a href="#" class="nav_link appointments-link">
            <span class="navlink_icon">
              <i class='bx bx-calendar'></i>
            </span>
            <span class="navlink">Записани часове</span>
          </a>
        </li>
        <li class="menu_item"  th:if="${user.role.name() == 'ADMIN'}">
          <a href="/users" class="nav_link users-link">
            <span class="navlink_icon">
            <i class='bx bx-user-circle' ></i>
            </span>
            <span class="navlink">Потребители</span>
          </a>
        </li>

        <li class="menu_item"  th:if="${user.role.name() == 'ADMIN'}">
          <a href="/notActiveUsers" class="nav_link blockedUsers-link">
            <span class="navlink_icon">
            <i class='bx bx-block'></i>
            </span>
            <span class="navlink">Не активни потреб.</span>
          </a>
        </li>

      </ul>
      <div class="collapse_content">
        <div class="collapse expand_sidebar">
          <span> Разгърни</span>
          <i class="bx bx-chevron-right"></i>
        </div>
        <div class="collapse collapse_sidebar">
          <span> Свий</span>
          <i class="bx bx-chevron-left"></i>
        </div>
      </div>
    </div>
  </nav>

  <div class="main-content">
    <div class="container">

      <form method="post" id="myForm" enctype="multipart/form-data">
        <div class="tab">
          <div class="row">
            <div class="col-25">
              <label for="car"></i>Кола</label>
            </div>
            <div class="col-75">
              <select id="car" name="car">


                <option value="-">Избери кола</option>
                <option th:each="car : ${userCars}" th:value="${car.id}" th:text="${car.brand + ' ' + car.model + ' ' + car.licensePlate}"></option>
              </select>
            </div>
          </div>

          <div class="row">
            <p class="ifAdd">Ако не си ползвал нашите услуги и нямаш коли в списъка можеш да си добавиш</p>
            <a class="addCarBtn" th:href="@{addCar}">Добави колата си</a>
          </div>
        </div>

        <div class="tab">
          <div class="row">
            <div class="col-25">
              <label for="serviceName"><i class="fa-solid fa-wrench"></i> Услуга</label>
            </div>
            <div class="col-75">
              <select id="service" name="service" required>

                  <option value="-">

                  </option>
                <option th:each="serviceForCars : ${serviceForCars}" th:value="${serviceForCars.id}" th:text="${serviceForCars.name}"></option>

              </select>

            </div>
          </div>
          <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-..."
            crossorigin="anonymous"></script>



          <div class="row">
            <div class="col-25">
              <label for="mechanicName"><i class="fa-solid fa-people-group"></i> Механик</label>
            </div>

            <div class="col-75">

              <select id="mechanic" name="mechanicName">

              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-25">
              <label for="datetime"><i class="fa-regular fa-calendar-days"></i> Дата и час</label>
            </div>
            <div class="col-75">
              <input type="datetime-local" name="datetime" id="datetime" required>
            </div>
          </div>
          <div class="row">
            <div class="col-25">
              <label for="more"><i class="fa-solid fa-file-pen"></i> Допълнителна информация</label>
            </div>
            <div class="col-75">
              <textarea id="more" name="more" placeholder="Напиши тук: " style="height:200px"></textarea>
            </div>
          </div>
         

        </div>
        <button type="button" id="prevBtn">Предишна страница</button>
        <button type="button" id="nextBtn">Напред</button>

        <div style="text-align:center;margin-top:40px;">
          <span class="step"></span>
          <span class="step"></span>
        </div>
      </form>
    </div>

    <div class="Your_cars">
      <form method="post" id="myForm" enctype="multipart/form-data">
        <div class="tab1" style="display: block;">
          <div class="row">
            <div class="col-25">
              <label for="car"></i>Кола</label>
            </div>
            <div class="col-75">
              <select id="car_select" name="car">

                  <option value="-">

                  </option>

              </select>
            </div>
          </div>

          <div class="row1">
            <p class="ifAdd">Ако не си ползвал нашите услуги и нямаш коли в списъка можеш да си добавиш</p>
            <div class="carButtons">
              <a class="addCarBtn" th:href="@{addCar}">Добави колата си</a>
              <button type="button" id="ViewCarInfo">Информация за автомобила</button>
            </div>
        
          </div>
          <div id="carInfoContainer">
            
          </div>
          
      </form>

    </div>




  </div>
  <div class="main-content">
    <div class="serviceContainer" id="serviceContainer">
      <div class="container" id="containerForServices">
        <h3>Добавяне на услуга</h3>
        <div class="form">
          <form method="post">
            <div class="form-group">
              <label for="serviceName">Име на услугата:</label>
              <input type="text" id="serviceName" name="serviceName" required>
            </div>
            <div class="form-group">
              <label for="timeForExecution">Време за изпълнение (в минути):</label>
              <input type="number" id="timeForExecution" name="timeForExecution" required>
            </div>
            <div class="form-group">
              <label for="price">Цена (в лв.):</label>
              <input type="number" id="price" name="price" required>
            </div>
            <div class="form-group">
              <label for="range">Направление:</label>
              <input type="text" id="range" name="range" required>
            </div>
            <div class="buttonContainer">
              <button type="submit" class="insertBtn" id="insertBtn">Добави услуга</button>
            </div>
          </form>
        </div>
      </div>

      <div class="tableContainer" id="serviceTable" >
        <h1>Предлагани услуги</h1>
        <div class = "tableClass" style="overflow-x:auto;">
          <table class="table table-striped table-hover">
            <thead class="table-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Име на услугата</th>
              <th scope="col">Време за изпълнение</th>
              <th scope="col">Направление</th>
              <th scope="col">Цена</th>
              <th scope="col">Операции</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <th scope="row">' . $id . '</th>
              <td class="nameDB">' . $name . '</td>
              <td class="timeDB">' . $timeForExecution . ' мин</td>
              <td class="rangeDB">' . $range . ' </td>
              <td class="nameDB">' . $price . 'лв</td>
              <td>


                <button class="btn btn-danger">
                  <a href="delete.php?deleteid=' . $id . '" class="text-light">
                    <i class="fa-solid fa-trash"></i>
                  </a>
                  <div class="editTextArea">Изтрий</div>
                </button>
            </tr>;





            </tbody>
          </table>
        </div>
      </div>

    </div>

    <div class="mechanicsContainer" id="mechanicsContainer">
      <div class="container" id="containerForMechanic">
        <h3>Добавяне на механик</h3>
        <div class="form">
          <form method="post">
            <div class="form-group">
              <label for="mechanicName">Име на механика:</label>
              <input type="text" id="mechanicName" name="mechanicName" required>
            </div>
            <div class="form-group">
              <label for="email">Имейл:</label>
              <input type="text" id="email" name="email" required>
            </div>
            <div class="form-group">
              <label for="logInCode">Код за влизане:</label>
              <input type="text" id="logInCode" name="logInCode" required>
            </div>
            <div class="form-group">
              <label for="specializedIn">Специалност:</label>
              <input type="text" id="specializedIn" name="specializedIn" required>
            </div>
            <div class="buttonContainer">
              <button type="submit" class="insertBtn" id="insertBtn">Добави механик</button>
            </div>
          </form>

        </div>
      </div>


      <div class="tableContainer" id="mechanicTable">
        <h1>Механици</h1>
        <div class = "table" style="overflow-x:auto;">
          <table class="table table-striped table-hover">
            <thead class="table-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Име на механика</th>
              <th scope="col">Имейл</th>
              <th scope="col">Специалност</th>
              <th scope="col">Операции</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <th scope="row">' . $idMechanic . '</th>
              <td class="nameDB">' . $name . '</td>
              <td class="emailDB">' . $email . ' </td>
              <td class="specializedInDB">' . $specializedIn . '</td>
              <td>


                <button class="btn btn-danger">
                  <a href="delete.php?deleteidMechanic=' . $idMechanic . '" class="text-light">
                    <i class="fa-solid fa-trash"></i>
                  </a>
                  <div class="editTextArea">Изтрий</div>
                </button>
            </tr>;





            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="appointmentsContainer" id="appointmentsContainer">

      <div class="tableContainer">
        <h1>Записани часове</h1>
        <div class = "table" style="overflow-x:auto;">
          <table class="table table-striped table-hover">
            <thead class="table-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Име на собственика</th>
              <th scope="col">Кола</th>
              <th scope="col">Услуга</th>
              <th scope="col">Име на механик</th>
              <th scope="col">Начало</th>
              <th scope="col">Край</th>
              <th scope="col">Допълнителна информация</th>
              <th scope="col">Операции</th>


            </tr>
            </thead>
            <tbody>
            <tr>
              <th scope="row">' . $idAppointment . '</th>
              <td class="carOwnerDB">' . $carOwner . '</td>
              <td class="carDB">' . $carBrand . ' ' . $carModel . '</td>
              <td class="serviceNameDB">' . $serviceName . '</td>
              <td class="mechanicNameDB">' . $mechanicName . '</td>
              <td class="dateTimeDB">' . $dateTime . '</td>
              <td class="endDateTimeDB">' . $endDateTime . '</td>
              <td class="moreInfoDB">' . $moreInfo . '</td>

              <td>

                <button class="btn btn-danger">
                  <a href="delete.php?deleteidAppointment=' . $idAppointment . '" class="text-light">
                    <i class="fa-solid fa-trash"></i>
                  </a>
                  <div class="editTextArea">Изтрий</div>
                </button>
            </tr>;

            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="tableContainer" id="userTable">
      <h1>Потребители</h1>
      <div class = "table" style="overflow-x:auto;">
        <table class="table table-striped table-hover">
          <thead class="table-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Име</th>
            <th scope="col">Имейл</th>
            <th scope="col">Телефон</th>
            <th scope="col">Блокирай</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <th scope="row">' . $idUser . '</th>
            <td class="nameDB">' . $name . '</td>
            <td class="emailDB">' . $email . ' </td>
            <td class="phoneDB">' . $phone . '</td>
            <td>

              <button class="btn btn-danger">
                <a href="delete.php?deleteidUser=' . $idUser . '" class="text-light">
                  <i class="bx bx-block"></i>
                </a>
                <div class="editTextArea">Блокирай</div>
              </button>
          </tr>;





          </tbody>
        </table>
      </div>
    </div>

    <div class="tableContainer" id="blockedUserTable">
      <h1>Блокирани потребители</h1>
      <div class = "table" style="overflow-x:auto;">
        <table class="table table-striped table-hover">
          <thead class="table-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Име</th>
            <th scope="col">Имейл</th>
            <th scope="col">Телефон</th>
            <th scope="col">Активирай</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <th scope="row">' . $idUser . '</th>
            <td class="nameDB">' . $name . '</td>
            <td class="emailDB">' . $email . ' </td>
            <td class="phoneDB">' . $phone . '</td>
            <td>

              <button class="btn btn-activate">
                <a href="delete.php?activateIdUser=' . $idUser . '" class="text-light">
                  <i class="bx bxs-user-plus"></i>
                </a>
                <div class="editTextArea">Активирай</div>
              </button>
          </tr>;



          </tbody>
        </table>
      </div>
    </div>
  </div>
  </div>
  </div>
 

  <script src="js/multiStepForm2.js"></script>
  <script src="js/clientPage.js"></script>
  <!-- <script src="js/adminPageScript.js"></script>-->

  </body>



  </html>